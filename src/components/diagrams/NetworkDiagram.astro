---
import { ArrowRight } from 'lucide-astro';

interface Props {
  className?: string;
}

const { className = '' } = Astro.props;
---
<div class="w-full h-full flex items-center justify-center">
  <div class="relative w-full max-w-xl">
    <!-- Background glow effect -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-gradient-to-br from-purple-500/20 to-pink-500/20 rounded-full blur-[100px]"></div>
    
    <!-- E2E Performance and Intelligent Controller -->
    <div class="absolute -top-28 md:-top-40 left-1/2 -translate-x-1/2 z-10 w-full md:w-auto">
      <div class="flex flex-col items-center gap-4 md:gap-6">
        <!-- E2E Performance Metrics -->
        <div class="bg-[#1a1b2e]/50 p-3 rounded-xl border border-purple-500/20 group hover:border-purple-500/50 transition-all duration-300 w-[220px] md:w-[260px]">
          <h3 class="text-pink-500 text-xs mb-3 flex items-center gap-2">
            <svg class="w-3 h-3" fill="currentColor" viewBox="0 0 24 24">
              <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"/>
            </svg>
            E2E Performance Optimization
          </h3>
          <div class="flex gap-3">
            <div class="metric-column">
              <div class="h-12 w-1.5 bg-gradient-to-t from-teal-500/20 to-purple-500/20 rounded-full relative overflow-hidden">
                <div class="absolute bottom-0 left-0 right-0 h-3/4 bg-gradient-to-t from-teal-500 to-purple-500 rounded-full animate-pulse"></div>
              </div>
              <span class="text-gray-400 text-[10px] mt-1">Throughput</span>
            </div>
            <div class="metric-column">
              <div class="h-12 w-1.5 bg-gradient-to-t from-teal-500/20 to-purple-500/20 rounded-full relative overflow-hidden">
                <div class="absolute bottom-0 left-0 right-0 h-1/2 bg-gradient-to-t from-teal-500 to-purple-500 rounded-full animate-pulse"></div>
              </div>
              <span class="text-gray-400 text-[10px] mt-1">Latency</span>
            </div>
            <div class="metric-column">
              <div class="h-12 w-1.5 bg-gradient-to-t from-teal-500/20 to-purple-500/20 rounded-full relative overflow-hidden">
                <div class="absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-t from-teal-500 to-purple-500 rounded-full animate-pulse"></div>
              </div>
              <span class="text-gray-400 text-[10px] mt-1">Reliability</span>
            </div>
          </div>
        </div>

        <!-- Controller Box -->
        <div class="px-4 py-2 bg-[#1a1b2e]/50 rounded-xl border border-purple-500/20 group hover:border-purple-500/50 transition-all duration-300 shadow-lg shadow-purple-500/10">
          <div class="flex items-center gap-2">
            <svg class="w-4 h-4 text-purple-500/70" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 3c-4.96 0-9 4.04-9 9s4.04 9 9 9 9-4.04 9-9-4.04-9-9-9zm0 16c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zm1-11h-2v3H8v2h3v3h2v-3h3v-2h-3z"/>
            </svg>
            <span class="text-gray-300 text-sm">Intelligent Controller</span>
          </div>
        </div>

        <!-- Wireless Connection Indicators -->
        <div class="absolute top-full left-1/2 w-full h-32 -translate-x-1/2">
          <div class="wireless-signal"></div>
          <div class="wireless-signal" style="animation-delay: 0.6s"></div>
          <div class="wireless-signal" style="animation-delay: 1.2s"></div>
        </div>
      </div>
    </div>
    
    <!-- Main network flow -->
    <div class="relative flex flex-col gap-6 mt-12 md:mt-16">
      <!-- Network components row -->
      <div class="flex flex-col md:flex-row items-center gap-6 md:gap-3">
        <div class="network-node group">
          <div class="w-10 h-10 md:w-12 md:h-12 bg-[#1a1b2e]/50 rounded-xl border border-purple-500/20 flex items-center justify-center transition-all duration-300 group-hover:border-purple-500/50">
            <svg class="w-5 h-5 md:w-6 md:h-6 text-purple-500/70" fill="currentColor" viewBox="0 0 24 24">
              <path d="M15.5 1h-8C6.12 1 5 2.12 5 3.5v17C5 21.88 6.12 23 7.5 23h8c1.38 0 2.5-1.12 2.5-2.5v-17C18 2.12 16.88 1 15.5 1zm-4 21c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm4.5-4H7V4h9v14z"/>
            </svg>
          </div>
          <span class="text-gray-300 mt-1 text-xs">UE</span>
        </div>
        
        <div class="hidden md:block flex-1 relative">
          <div class="h-0.5 bg-gradient-to-r from-purple-500/50 to-pink-500/50"></div>
          <div class="absolute top-1/2 -translate-y-1/2 left-0 w-full">
            <div class="data-packet"></div>
          </div>
        </div>
        
        <div class="network-node group">
          <div class="w-10 h-10 md:w-12 md:h-12 bg-[#1a1b2e]/50 rounded-xl border border-purple-500/20 flex items-center justify-center transition-all duration-300 group-hover:border-purple-500/50">
            <svg class="w-5 h-5 md:w-6 md:h-6 text-purple-500/70" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 3C7.41 3 3.86 4.53.89 6.59c-.49.33-.59 1-.22 1.46l9.78 12.04c.4.49 1.09.54 1.55.1 2.87-2.74 5.46-5.34 8.1-8.1.44-.45.4-1.15-.1-1.55L12.45 3.1c-.14-.12-.32-.17-.45-.1z"/>
            </svg>
          </div>
          <span class="text-gray-300 mt-1 text-xs">RAN</span>
        </div>
        
        <div class="hidden md:block flex-1 relative">
          <div class="h-0.5 bg-gradient-to-r from-purple-500/50 to-pink-500/50"></div>
          <div class="absolute top-1/2 -translate-y-1/2 left-0 w-full">
            <div class="data-packet" style="animation-delay: 1s"></div>
          </div>
        </div>
        
        <div class="network-node group">
          <div class="w-10 h-10 md:w-12 md:h-12 bg-[#1a1b2e]/50 rounded-xl border border-purple-500/20 flex items-center justify-center transition-all duration-300 group-hover:border-purple-500/50">
            <svg class="w-5 h-5 md:w-6 md:h-6 text-purple-500/70" fill="currentColor" viewBox="0 0 24 24">
              <path d="M15 9H9v6h6V9zm-2 4h-2v-2h2v2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2zm-4 6H7V7h10v10z"/>
            </svg>
          </div>
          <span class="text-gray-300 mt-1 text-xs">Transport</span>
        </div>
        
        <div class="hidden md:block flex-1 relative">
          <div class="h-0.5 bg-gradient-to-r from-purple-500/50 to-pink-500/50"></div>
          <div class="absolute top-1/2 -translate-y-1/2 left-0 w-full">
            <div class="data-packet" style="animation-delay: 2s"></div>
          </div>
        </div>
        
        <div class="network-node group">
          <div class="w-10 h-10 md:w-12 md:h-12 bg-[#1a1b2e]/50 rounded-xl border border-purple-500/20 flex items-center justify-center transition-all duration-300 group-hover:border-purple-500/50">
            <svg class="w-5 h-5 md:w-6 md:h-6 text-purple-500/70" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5l7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"/>
            </svg>
          </div>
          <span class="text-gray-300 mt-1 text-xs">Core</span>
        </div>
      </div>
    </div>
  </div>
</div>

<style>
  .network-node {
    @apply flex flex-col items-center text-center;
  }
  
  .metric-column {
    @apply flex flex-col items-center;
  }

  .data-packet {
    width: 8px;
    height: 8px;
    background-color: rgba(83, 52, 131, 0.8);
    border-radius: 50%;
    animation: movePacket 3s infinite ease-in-out;
    box-shadow: 0 0 10px rgba(83, 52, 131, 0.5);
  }

  .wireless-signal {
    @apply absolute w-full h-full left-0 top-0;
    background: radial-gradient(circle at 50% 0%, rgba(168, 85, 247, 0.15) 0%, transparent 85%);
    animation: wirelessPulse 4s ease-in-out infinite;
  }

  @keyframes wirelessPulse {
    0% {
      opacity: 0;
      transform: scale(0.3);
    }
    50% {
      opacity: 0.3;
    }
    100% {
      opacity: 0;
      transform: scale(1);
    }
  }

  @keyframes movePacket {
    0% {
      transform: translateX(0) scale(0.8);
      opacity: 0;
    }
    20% {
      transform: translateX(20%) scale(1);
      opacity: 1;
    }
    80% {
      transform: translateX(80%) scale(1);
      opacity: 1;
    }
    100% {
      transform: translateX(100%) scale(0.8);
      opacity: 0;
    }
  }
</style>
