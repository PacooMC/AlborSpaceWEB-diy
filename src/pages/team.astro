---
    import Layout from '../layouts/Layout.astro';
    import { teamPage, teamMembers } from '../content/team';
    import { Mail, MapPin } from 'lucide-astro';

    ---

    <Layout title={`${teamPage.title} - ALBOR SPACE`} description={teamPage.description}>
      <div class="pt-32 pb-24 relative">
        <!-- Background effects -->
        <div class="absolute inset-0 bg-gradient-to-b from-[#000012]/90 via-[#000018]/50 to-[#000012]/90"></div>

        <div class="container-custom relative z-10">
          <!-- Page header -->
          <div class="text-center mb-16 reveal-element">
            <h1 class="heading-lg mb-4 slide-right">{teamPage.title}</h1>
            <p class="text-white/60 max-w-2xl mx-auto">{teamPage.description}</p>
          </div>

          <!-- Team grid with minimalist cards -->
          <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mt-16">
            {teamMembers.map((member, index) => (
              <div
                class="team-card group cursor-pointer hover:scale-[1.02] transition-all duration-500"
                data-member={JSON.stringify(member)}
                data-reveal="fade-up"
                data-reveal-delay={index * 100}
              >
                <div class="rounded-xl overflow-hidden h-full bg-[#000018]/40 border border-white/5 hover:border-[#FF6B00]/15 transition-all duration-300">
                  <div class="relative aspect-square overflow-hidden">
                    <img
                      src={member.image}
                      alt={member.name}
                      class="w-full h-full object-cover transition-all duration-500 group-hover:scale-110 group-hover:filter group-hover:brightness-110"
                    />
                    <div class="absolute inset-0 bg-gradient-to-t from-[#000012] via-[#000012]/70 to-transparent opacity-60 transition-opacity duration-500 group-hover:opacity-40"></div>
                  </div>

                  <div class="p-6">
                    <h3 class="text-xl font-light mb-2 text-white group-hover:text-[#FF6B00]/70 transition-colors duration-300">{member.name}</h3>
                    <p class="text-[#FF6B00]/60 text-sm tracking-wider uppercase mb-4">{member.role}</p>

                    <div class="flex items-center text-white/50 text-sm mb-2">
                      <Mail size={14} class="mr-2 text-[#FF6B00]/40" />
                      <span class="truncate">{member.email}</span>
                    </div>

                    <div class="flex items-center text-white/50 text-sm">
                      <MapPin size={14} class="mr-2 text-[#FF6B00]/40" />
                      <span>Universidad de Málaga</span>
                    </div>
                  </div>
                </div>
              </div>
            ))}
          </div>

          <!-- Team mission statement section -->
          <div class="mt-24 max-w-4xl mx-auto">
            <div class="glass-card">
              <h2 class="text-3xl font-light mb-6 text-center">Our Mission</h2>
              <p class="text-white/70 mb-6 leading-relaxed">
                At Albor Space, we're dedicated to pushing the boundaries of space communications through innovation,
                research, and technological excellence. Our team combines decades of academic expertise with
                practical industry experience to develop revolutionary solutions for the next generation of
                space exploration and connectivity.
              </p>
              <p class="text-white/70 leading-relaxed">
                Founded by leading experts from the Universidad de Málaga's telecommunications department,
                our team brings together specialists in satellite communications, software-defined radio,
                network optimization, and artificial intelligence to address the most complex challenges in
                non-terrestrial networks.
              </p>
            </div>
          </div>
        </div>
      </div>
    </Layout>

    <style>
      .team-card {
        transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        box-shadow: 0 4px 20px rgba(0, 0, 18, 0.4);
      }

      .team-card:hover {
        box-shadow:
          0 20px 40px rgba(0, 0, 18, 0.6),
          0 0 20px rgba(255, 107, 0, 0.15);
      }

      .glass-card {
        background-color: rgba(0, 0, 18, 0.2);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.05);
        border-radius: 0.75rem;
        padding: 2rem;
        transition: all 0.3s ease;
      }
    </style>

    <script>
      // This script assumes the modal and its functions (openModal) are globally available (moved to Layout.astro)
      document.addEventListener('DOMContentLoaded', () => {
        // Add click handlers for team cards on this page
        document.querySelectorAll('.team-card').forEach(card => {
          card.addEventListener('click', () => {
            const memberData = card.getAttribute('data-member');
            if (memberData) {
              try {
                const member = JSON.parse(memberData);
                // Check if the global openModal function exists before calling
                if (typeof window.openModal === 'function') {
                  window.openModal(member);
                } else {
                  console.error('openModal function not found. Ensure modal logic is in Layout.astro.');
                }
              } catch (e) {
                console.error('Failed to parse member data:', e);
              }
            }
          });
        });

        // Reveal animations (keep this page-specific logic)
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              const delay = parseInt(entry.target.getAttribute('data-reveal-delay') || '0');
              setTimeout(() => {
                entry.target.classList.add('revealed');
              }, delay);
            }
          });
        }, {
          threshold: 0.1
        });

        document.querySelectorAll('[data-reveal]').forEach(el => {
          observer.observe(el);
        });
      });
    </script>